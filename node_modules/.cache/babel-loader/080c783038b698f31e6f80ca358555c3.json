{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateAC = void 0;\n\nfunction calcDigit(body) {\n  var weight = body.length - 7;\n  var sum = 0;\n  body.split('').forEach(function (digit) {\n    sum += +digit * weight;\n    weight--;\n\n    if (weight === 1) {\n      weight = 9;\n    }\n  });\n  var mod = 11;\n  var rest = sum % mod;\n  var dig = mod - rest;\n\n  if (dig >= 10) {\n    dig = 0;\n  }\n\n  return dig;\n}\n\nfunction validateAC(ie) {\n  var ieStr = String(ie).replace(/\\D/g, '');\n  if (ieStr.length !== 13) return false;\n  if (ieStr.substr(0, 2) !== '01') return false;\n  var length = ieStr.length;\n  var body = ieStr.substr(0, length - 2);\n  var fDig = calcDigit(body);\n  var sDig = calcDigit(body + fDig.toString());\n  var pos2dig = ieStr.length - 1;\n  var pos1dig = ieStr.length - 2;\n  return +ieStr[pos1dig] === fDig && +ieStr[pos2dig] === sDig;\n}\n\nexports.validateAC = validateAC;","map":{"version":3,"sources":["/home/igor/type-script/node_modules/validations-br/lib/validations/ie/states/ac.js"],"names":["Object","defineProperty","exports","value","validateAC","calcDigit","body","weight","length","sum","split","forEach","digit","mod","rest","dig","ie","ieStr","String","replace","substr","fDig","sDig","toString","pos2dig","pos1dig"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,MAAIC,MAAM,GAAGD,IAAI,CAACE,MAAL,GAAc,CAA3B;AACA,MAAIC,GAAG,GAAG,CAAV;AACAH,EAAAA,IAAI,CAACI,KAAL,CAAW,EAAX,EAAeC,OAAf,CAAuB,UAAUC,KAAV,EAAiB;AACpCH,IAAAA,GAAG,IAAI,CAACG,KAAD,GAASL,MAAhB;AACAA,IAAAA,MAAM;;AACN,QAAIA,MAAM,KAAK,CAAf,EAAkB;AACdA,MAAAA,MAAM,GAAG,CAAT;AACH;AACJ,GAND;AAOA,MAAIM,GAAG,GAAG,EAAV;AACA,MAAIC,IAAI,GAAGL,GAAG,GAAGI,GAAjB;AACA,MAAIE,GAAG,GAAGF,GAAG,GAAGC,IAAhB;;AACA,MAAIC,GAAG,IAAI,EAAX,EAAe;AACXA,IAAAA,GAAG,GAAG,CAAN;AACH;;AACD,SAAOA,GAAP;AACH;;AACD,SAASX,UAAT,CAAoBY,EAApB,EAAwB;AACpB,MAAIC,KAAK,GAAGC,MAAM,CAACF,EAAD,CAAN,CAAWG,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,CAAZ;AACA,MAAIF,KAAK,CAACT,MAAN,KAAiB,EAArB,EACI,OAAO,KAAP;AACJ,MAAIS,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgB,CAAhB,MAAuB,IAA3B,EACI,OAAO,KAAP;AACJ,MAAIZ,MAAM,GAAGS,KAAK,CAACT,MAAnB;AACA,MAAIF,IAAI,GAAGW,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBZ,MAAM,GAAG,CAAzB,CAAX;AACA,MAAIa,IAAI,GAAGhB,SAAS,CAACC,IAAD,CAApB;AACA,MAAIgB,IAAI,GAAGjB,SAAS,CAACC,IAAI,GAAGe,IAAI,CAACE,QAAL,EAAR,CAApB;AACA,MAAIC,OAAO,GAAGP,KAAK,CAACT,MAAN,GAAe,CAA7B;AACA,MAAIiB,OAAO,GAAGR,KAAK,CAACT,MAAN,GAAe,CAA7B;AACA,SAAO,CAACS,KAAK,CAACQ,OAAD,CAAN,KAAoBJ,IAApB,IAA4B,CAACJ,KAAK,CAACO,OAAD,CAAN,KAAoBF,IAAvD;AACH;;AACDpB,OAAO,CAACE,UAAR,GAAqBA,UAArB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAC = void 0;\nfunction calcDigit(body) {\n    var weight = body.length - 7;\n    var sum = 0;\n    body.split('').forEach(function (digit) {\n        sum += +digit * weight;\n        weight--;\n        if (weight === 1) {\n            weight = 9;\n        }\n    });\n    var mod = 11;\n    var rest = sum % mod;\n    var dig = mod - rest;\n    if (dig >= 10) {\n        dig = 0;\n    }\n    return dig;\n}\nfunction validateAC(ie) {\n    var ieStr = String(ie).replace(/\\D/g, '');\n    if (ieStr.length !== 13)\n        return false;\n    if (ieStr.substr(0, 2) !== '01')\n        return false;\n    var length = ieStr.length;\n    var body = ieStr.substr(0, length - 2);\n    var fDig = calcDigit(body);\n    var sDig = calcDigit(body + fDig.toString());\n    var pos2dig = ieStr.length - 1;\n    var pos1dig = ieStr.length - 2;\n    return +ieStr[pos1dig] === fDig && +ieStr[pos2dig] === sDig;\n}\nexports.validateAC = validateAC;\n"]},"metadata":{},"sourceType":"script"}