{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validatePIS = void 0;\n\nfunction generateChecksum(base, weight) {\n  var digits = String(base).replace(/[^\\d]/g, '');\n  return digits.split('').reduce(function (acc, digit, i) {\n    return acc + +digit * weight[i];\n  }, 0);\n}\n\nvar weights = [3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\nvar reservedNumbers = ['00000000000', '11111111111', '22222222222', '33333333333', '44444444444', '55555555555', '66666666666', '77777777777', '88888888888', '99999999999'];\n\nfunction validatePIS(pis) {\n  var pisStr = String(pis).replace(/\\D/g, '');\n  var numeric = pisStr.replace(/[ ().,*-]/g, '');\n  if (!(pisStr.length === 11) || reservedNumbers.indexOf(pisStr) >= 0 || !/^[0-9]+$/.test(pisStr)) return false;\n  var weightedChecksum = generateChecksum(numeric.substr(0, numeric.length - 1), weights);\n  var verifyingDigit = +numeric.charAt(numeric.length - 1);\n  var calculatedDigit = 11 - weightedChecksum % 11;\n  return calculatedDigit === verifyingDigit || calculatedDigit === 10 && verifyingDigit === 0 || calculatedDigit === 11 && verifyingDigit === 0;\n}\n\nexports.validatePIS = validatePIS;","map":{"version":3,"sources":["/home/igor/Desktop/sw-cehicle/node_modules/validations-br/lib/validations/validatePIS.js"],"names":["Object","defineProperty","exports","value","validatePIS","generateChecksum","base","weight","digits","String","replace","split","reduce","acc","digit","i","weights","reservedNumbers","pis","pisStr","numeric","length","indexOf","test","weightedChecksum","substr","verifyingDigit","charAt","calculatedDigit"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,WAAR,GAAsB,KAAK,CAA3B;;AACA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgCC,MAAhC,EAAwC;AACpC,MAAIC,MAAM,GAAGC,MAAM,CAACH,IAAD,CAAN,CAAaI,OAAb,CAAqB,QAArB,EAA+B,EAA/B,CAAb;AACA,SAAOF,MAAM,CACRG,KADE,CACI,EADJ,EAEFC,MAFE,CAEK,UAAUC,GAAV,EAAeC,KAAf,EAAsBC,CAAtB,EAAyB;AAAE,WAAOF,GAAG,GAAG,CAACC,KAAD,GAASP,MAAM,CAACQ,CAAD,CAA5B;AAAkC,GAFlE,EAEoE,CAFpE,CAAP;AAGH;;AACD,IAAIC,OAAO,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAAd;AACA,IAAIC,eAAe,GAAG,CAClB,aADkB,EAElB,aAFkB,EAGlB,aAHkB,EAIlB,aAJkB,EAKlB,aALkB,EAMlB,aANkB,EAOlB,aAPkB,EAQlB,aARkB,EASlB,aATkB,EAUlB,aAVkB,CAAtB;;AAYA,SAASb,WAAT,CAAqBc,GAArB,EAA0B;AACtB,MAAIC,MAAM,GAAGV,MAAM,CAACS,GAAD,CAAN,CAAYR,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAb;AACA,MAAIU,OAAO,GAAGD,MAAM,CAACT,OAAP,CAAe,YAAf,EAA6B,EAA7B,CAAd;AACA,MAAI,EAAES,MAAM,CAACE,MAAP,KAAkB,EAApB,KACAJ,eAAe,CAACK,OAAhB,CAAwBH,MAAxB,KAAmC,CADnC,IAEA,CAAC,WAAWI,IAAX,CAAgBJ,MAAhB,CAFL,EAGI,OAAO,KAAP;AACJ,MAAIK,gBAAgB,GAAGnB,gBAAgB,CAACe,OAAO,CAACK,MAAR,CAAe,CAAf,EAAkBL,OAAO,CAACC,MAAR,GAAiB,CAAnC,CAAD,EAAwCL,OAAxC,CAAvC;AACA,MAAIU,cAAc,GAAG,CAACN,OAAO,CAACO,MAAR,CAAeP,OAAO,CAACC,MAAR,GAAiB,CAAhC,CAAtB;AACA,MAAIO,eAAe,GAAG,KAAMJ,gBAAgB,GAAG,EAA/C;AACA,SAAQI,eAAe,KAAKF,cAApB,IACHE,eAAe,KAAK,EAApB,IAA0BF,cAAc,KAAK,CAD1C,IAEHE,eAAe,KAAK,EAApB,IAA0BF,cAAc,KAAK,CAFlD;AAGH;;AACDxB,OAAO,CAACE,WAAR,GAAsBA,WAAtB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validatePIS = void 0;\nfunction generateChecksum(base, weight) {\n    var digits = String(base).replace(/[^\\d]/g, '');\n    return digits\n        .split('')\n        .reduce(function (acc, digit, i) { return acc + +digit * weight[i]; }, 0);\n}\nvar weights = [3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\nvar reservedNumbers = [\n    '00000000000',\n    '11111111111',\n    '22222222222',\n    '33333333333',\n    '44444444444',\n    '55555555555',\n    '66666666666',\n    '77777777777',\n    '88888888888',\n    '99999999999',\n];\nfunction validatePIS(pis) {\n    var pisStr = String(pis).replace(/\\D/g, '');\n    var numeric = pisStr.replace(/[ ().,*-]/g, '');\n    if (!(pisStr.length === 11) ||\n        reservedNumbers.indexOf(pisStr) >= 0 ||\n        !/^[0-9]+$/.test(pisStr))\n        return false;\n    var weightedChecksum = generateChecksum(numeric.substr(0, numeric.length - 1), weights);\n    var verifyingDigit = +numeric.charAt(numeric.length - 1);\n    var calculatedDigit = 11 - (weightedChecksum % 11);\n    return (calculatedDigit === verifyingDigit ||\n        (calculatedDigit === 10 && verifyingDigit === 0) ||\n        (calculatedDigit === 11 && verifyingDigit === 0));\n}\nexports.validatePIS = validatePIS;\n"]},"metadata":{},"sourceType":"script"}